@using TaskManager.Models;
@{
    var currentUser = CookieHelper.GetLoggedUser(User);
    var username = Context.Session.GetString("username")
    ?? User.Identity?.Name;

    string urllogo = "/User/Index";
    if (!string.IsNullOrEmpty(username))
    {
        urllogo = "/Home/Index";
    }
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - Task Manager</title>


    <link href="~/css/backend-plugin.min.css" rel="stylesheet" />
    <link href="~/css/backend.css" rel="stylesheet" />
    <link href="~/css/tui-calendar.css" rel="stylesheet" />
    <link href="~/css/tui-date-picker.css" rel="stylesheet" />
    <link href="~/css/tui-time-picker.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta2/css/bootstrap-select.min.css" />

    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css" rel="stylesheet" />


    <link href="~/css/site.css" rel="stylesheet" />
</head>
<body class="  ">

    <!-- loader Start -->
    <div id="loading" style="display: none;">
        <div id="loading-center">
        </div>
    </div>
    <!-- loader END -->

    <div id="alert-container" class="position-fixed top-0 end-0 p-3" style="z-index: 1050;">
        <!-- Alerts will be appended here dynamically -->
    </div>


    <!-- Wrapper Start -->
    <div class="wrapper">

        <div class="iq-sidebar  sidebar-default ">
            <div class="iq-sidebar-logo d-flex align-items-center">
                <a href="@urllogo" class="header-logo">
                    <img src="~/img/logo.png" alt="logo" />
                    <h3 class="logo-title light-logo">Teka Dev</h3>
                </a>
                <div class="iq-menu-bt-sidebar ml-0">
                    <i class="fa-solid fa-bars wrapper-menu"></i>
                </div>
            </div>
            <div class="data-scrollbar" data-scroll="1" data-scrollbar="true" tabindex="-1" style="overflow: hidden; outline: none;">
                <div class="scroll-content">
                    <nav class="iq-sidebar-menu">
                        <ul id="iq-sidebar-toggle" class="iq-menu">
                            <li class="active">
                                <a href="/Home/Index" class="svg-icon">
                                    <svg class="svg-icon" width="25" height="25" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                    </svg>
                                    <span class="ml-4">Dashboards</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="/Project/Index" class="svg-icon">
                                    <svg class="svg-icon" width="25" height="25" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="6 9 6 2 18 2 18 9"></polyline>
                                        <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                                        <rect x="6" y="14" width="12" height="8"></rect>
                                    </svg>
                                    <span class="ml-4">Dự án</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="/Task/Index" class="svg-icon">
                                    <svg class="svg-icon" width="25" height="25" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                        <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                    </svg>
                                    <span class="ml-4">Công việc</span>
                                </a>
                            </li>


                            @if (currentUser != null && (currentUser.Role == (int)CommonEnums.Role.Leader || currentUser.Role == (int)CommonEnums.Role.Admin))
                            {
                                <li class="">
                                    <a href="/User/TeamGroup" class="svg-icon">
                                        <svg class="svg-icon" width="25" height="25" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="12" cy="7" r="4"></circle>
                                        </svg>
                                        <span class="ml-4">Team Group</span>
                                    </a>
                                </li>
                            }
                            <li class="">
                                <a href="/Task/Calendar" class="svg-icon">
                                    <svg class="svg-icon" width="25" height="25" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                        <line x1="16" y1="2" x2="16" y2="6"></line>
                                        <line x1="8" y1="2" x2="8" y2="6"></line>
                                        <line x1="3" y1="10" x2="21" y2="10"></line>
                                    </svg>
                                    <span class="ml-4">Lịch</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    @*    <div id="sidebar-bottom" class="position-relative sidebar-bottom">
                        <div class="card border-none mb-0 shadow-none">
                            <div class="card-body p-0">
                                <div class="sidebarbottom-content">
                                    <h5 class="mb-3">Task Performed</h5>
                                    <div id="circle-progress-6" class="sidebar-circle circle-progress circle-progress-primary mb-4" data-min-value="0" data-max-value="100" data-value="55" data-type="percent" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="55"><svg version="1.1" width="100" height="100" viewBox="0 0 100 100" class="circle-progress"><circle class="circle-progress-circle" cx="50" cy="50" r="47" fill="none" stroke="#ddd" stroke-width="8"></circle><path d="M 50 3 A 47 47 0 1 1 35.47620126437745 94.69965626587222" class="circle-progress-value" fill="none" stroke="#00E699" stroke-width="8"></path><text class="circle-progress-text" x="50" y="50" font="16px Arial, sans-serif" text-anchor="middle" fill="#999" dy="0.4em">55%</text></svg></div>
                                    <div class="custom-control custom-radio mb-1">
                                        <input type="radio" id="customRadio6" name="customRadio-1" class="custom-control-input" checked="">
                                        <label class="custom-control-label" for="customRadio6">Performed task</label>
                                    </div>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadio7" name="customRadio-1" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio7">Incomplete Task</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> *@
                    <div class="pt-5 pb-2"></div>
                </div><div class="scrollbar-track scrollbar-track-x" style="display: none;"><div class="scrollbar-thumb scrollbar-thumb-x" style="width: 260px; transform: translate3d(0px, 0px, 0px);"></div></div><div class="scrollbar-track scrollbar-track-y" style="display: none;"><div class="scrollbar-thumb scrollbar-thumb-y" style="height: 1313px; transform: translate3d(0px, 0px, 0px);"></div></div>
            </div>
        </div>      <div class="iq-top-navbar">
            <div class="iq-navbar-custom">
                <nav class="navbar navbar-expand-lg navbar-light p-0">
                    <div class="iq-navbar-logo d-flex align-items-center justify-content-between">
                        <i class="ri-menu-line wrapper-menu"></i>
                        <a href="#" class="header-logo">
                            <h4 class="logo-title text-uppercase">Teka Dev</h4>

                        </a>
                    </div>
                    <div class="navbar-breadcrumb">
                        <h5>Dashboard</h5>
                    </div>
                    <div class="d-flex align-items-center">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-label="Toggle navigation">
                            <i class="ri-menu-3-line"></i>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav ml-auto navbar-list align-items-center">
                              @*       <li>
                                    <div class="iq-search-bar device-search">
                                        <form action="#" class="searchbox">
                                            <a class="search-link" href="#"><i class="ri-search-line"></i></a>
                                            <input type="text" class="text search-input" placeholder="Search here...">
                                        </form>
                                    </div>
                                </li>
                                <li class="nav-item nav-icon search-content">
                                    <a href="#" class="search-toggle rounded" id="dropdownSearch" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="ri-search-line"></i>
                                    </a>
                                    <div class="iq-search-bar iq-sub-dropdown dropdown-menu" aria-labelledby="dropdownSearch">
                                        <form action="#" class="searchbox p-2">
                                            <div class="form-group mb-0 position-relative">
                                                <input type="text" class="text search-input font-size-12" placeholder="type here to search...">
                                                <a href="#" class="search-link"><i class="las la-search"></i></a>
                                            </div>
                                        </form>
                                    </div>
                                </li> *@




                                <li class="nav-item nav-icon dropdown caption-content">
                                    

                                    @if (string.IsNullOrEmpty(username))
                                    {
                                        <a href="/User/Login" class="search-toggle dropdown-toggle  d-flex align-items-center">
                                            <h6 class="mb-0 line-height">Đăng nhập<i class="fa-solid fa-user ml-2"></i></h6>

                                        </a>
                                    }   
                                    else
                                    {
                                        <a href="#" class="search-toggle dropdown-toggle  d-flex align-items-center" id="dropdownMenuButton4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <img src="/img/11539820.png" class="img-fluid rounded-circle" alt="user">
                                            <h6 class="mb-0 line-height">Xin chào, @username<i class="fa-solid fa-angle-down ml-2"></i></h6>
                                           @*  <div class="caption ml-3">
                                                <h6 class="mb-0 line-height">Xin chào, @username<i class="fa-solid fa-angle-down ml-2"></i></h6>
                                            </div> *@
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-right border-none" aria-labelledby="dropdownMenuButton">
                                            <li class="dropdown-item d-flex svg-icon">
                                                <svg class="svg-icon mr-0 text-primary" id="h-01-p" width="20" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                                </svg>
                                                <a href="#">My Profile</a>
                                            </li>
                                            <li class="dropdown-item d-flex svg-icon">
                                                <svg class="svg-icon mr-0 text-primary" id="h-02-p" width="20" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                                </svg>
                                                <a href="#">Edit Profile</a>
                                            </li>


                                            <li class="dropdown-item  d-flex svg-icon border-top">
                                                <svg class="svg-icon mr-0 text-primary" id="h-05-p" width="20" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                                                </svg>
                                                <a href="/User/Logout">Đăng xuất</a>
                                            </li>
                                        </ul>
                                    }
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>      <div class="content-page">
            <div class="container-fluid">
                @RenderBody()
            </div>
        </div>
        <!-- Page end  -->
    </div>

    <!-- Wrapper End-->

    <!-- footer start -->
    <footer class="iq-footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-6 text-right">
                    <span class="mr-1">
                        <script>document.write(new Date().getFullYear())</script>
                    </span> <a href="#" class=""> Task Manager by Teka Dev</a>.
                </div>
            </div>
        </div>
    </footer>
    <!-- JS Scripts -->
    <script src="~/js/backend-bundle.min.js"></script>

    <script src="~/js/table-treeview.js"></script>

    <script async src="~/js/chart-custom.js"></script>

    <script async src="~/js/slider.js"></script>

    <script src="~/js/app.js"></script>

    <script src="~/js/moment.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/js/site.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta2/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- FullCalendar JS -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js"></script>

    @RenderSection("Scripts", required: false)

    <svg id="SvgjsSvg1001" width="2" height="0" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" style="overflow: hidden; top: -100%; left: -100%; position: absolute; opacity: 0;"><defs id="SvgjsDefs1002"></defs><polyline id="SvgjsPolyline1003" points="0,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg>
</body>






</html>
